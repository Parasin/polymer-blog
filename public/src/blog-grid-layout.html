<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/app-layout/app-grid/app-grid-style.html">
<link rel="import" href="../bower_components/paper-card/paper-card.html">
<link rel="import" href="../bower_components/paper-styles/element-styles/paper-material-styles.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="blog-button.html">

<dom-module id="blog-grid-layout">

	<template>

		<style include="shop-button app-grid-style paper-material-styles">

			:host {
				display                            : block;
				margin                             : 5vh 12vw;
				--app-grid-columns                 : 2;
				--app-grid-gutter                  : 6px;
				--app-grid-expandible-item-columns : 2;
				--app-grid-item-height             : 20vh;
			}

			ul {
				padding    : 0;
				list-style : none;
			}

			.item {
				list-style                 : none;
				background-color           : white;
				-webkit-transition         : box-shadow 0.3s; /* Safari */
				transition                 : box-shadow 0.3s;
				transition-timing-function : linear;
			}

			.item:hover {
				box-shadow : 0 0 10px #888888;
			}

			@media (min-width : 800px) {
				.item:nth-child(5n+1) {
					@apply --app-grid-expandible-item;
				}
			}

			@media (max-width : 767px) {
				:host {
					--app-grid-columns                 : 1;
					--app-grid-gutter                  : 2px;
					--app-grid-expandible-item-columns : 1;
					margin                             : 0;
				}

				.item:nth-child(3n+1) {
					@apply --app-grid-expandible-item;
				}
			}

			.card-header {
				@apply --paper-font-headline;
			}

		</style>
		<div>
			<ul class="app-grid">
				<template is="dom-repeat" items="[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]">
					<paper-card class="item" elevation="3" heading="Heading ( [[ item ]] )" style="overflow: hidden; height: 60%">
						<div class="card-content">
							<p class="card-header">Brief Description</p>
							<p>Small preview of content where possible</p>
						</div>
						<div class="card-actions">
							<paper-icon-button icon="favorite"></paper-icon-button>
							<paper-icon-button icon="bookmark"></paper-icon-button>
							<paper-icon-button icon="social:share"></paper-icon-button>
						</div>
					</paper-card>
				</template>
			</ul>
		</div>


	</template>

	<script>

			class BlogGridLayout extends Polymer.Element {

				static get is () {
					return 'blog-grid-layout';
				}

				static get properties () {
					return {

						categories : {
							type : Array
						},

						visible : {
							type     : Boolean,
							observer : '_visibleChanged'
						}

					};
				}

				_visibleChanged ( visible ) {
					if ( visible ) {
						this.dispatchEvent( new CustomEvent( 'change-section', {
							bubbles : true, composed : true, detail : { title : 'Home' }
						} ) );
					}
				}

				attached () {
					this._updateGridStyles = this._updateGridStyles || function () {
						this.updateStyles();
					}.bind( this );
					window.addEventListener( 'resize', this._updateGridStyles );
				}

				detached () {
					window.removeEventListener( 'resize', this._updateGridStyles );
				}

			}

			customElements.define( BlogGridLayout.is, BlogGridLayout );

	</script>

</dom-module>
